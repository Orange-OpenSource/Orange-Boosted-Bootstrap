{{ range $entry := $.Site.Data.examples -}}
<div class="bd-content mt-huge">
  <h2 id="{{ $entry.category | urlize }}">{{ $entry.category }}</h2>
  <p>{{ $entry.description }}</p>
  {{ if eq $entry.category "RTL" -}}
    <div class="bd-callout bd-callout-warning small">
      <p>
        <strong>RTL is still experimental</strong> and will evolve with feedback. Spotted something or have an improvement to suggest?
      </p>
      <p><a href="{{ urls.JoinPath $.Site.Params.repo "issues/new/choose" }}">Please open an issue.</a></p>
    </div>
  {{ end -}}
  {{ if eq $entry.category "Starters" -}}
    <div class="bd-callout bd-callout-warning mb-tallest">
      <p>
        <strong>To get working OUDS Web examples based on the Bootstrap ones</strong>, you need to replace all <code>bootstrap</code> occurrences with <code>ouds-web</code> in some files.
      </p>
      <p>
        You may need to tweak a bit Sass files.
      </p>
    </div>
  {{ end -}}
  {{ if $entry.bootstrap}}
  <div class="col-12">
    <details class="mb-tallest px-short border border-drag">
      <summary class="py-short">Bootstrap <span class="tag tag-sm float-end"><code class="text-default">$enable-bootstrap-compatibility: true</code></span></summary>
      <div class="row">
  {{- end }}
  {{ range $i, $example := $entry.examples -}}
    {{- $len := len $entry.examples -}}
    {{ if (eq $i 0) }}<div class="row">{{ end }}
      {{ if $entry.external -}}
        <div class="col-md-6 col-lg-4 mb-tall d-flex gap-tall">
          <svg class="bi fs-5 flex-shrink-0"><use xlink:href="#box-seam"></use></svg>
          <div>
            <h3 class="h5 mb-shortest">
              <a class="d-block link-offset-1" href="{{ urls.JoinPath $.Site.Params.bootstrap_github_org $example.url }}" target="_blank" rel="noopener">
                {{ $example.name }}
              </a>
            </h3>
            <p class="text-muted">{{ $example.description }}</p>
            <p>
              {{- $indexPath := default "index.html" $example.indexPath -}}
              {{- $stackBlitzUrl := printf "%s%s%s" (urls.JoinPath "https://stackblitz.com/github/twbs" $example.url) "?file=" ($indexPath | urlquery) }}
              <a class="icon-link link-offset-1" href="{{ $stackBlitzUrl }}" target="_blank" rel="noopener">
                <svg class="bi flex-shrink-0"><use xlink:href="#lightning-charge-fill"></use></svg>
                Edit in StackBlitz
              </a>
            </p>
          </div>
        </div>
      {{ else -}}
        <div class="col-sm-6 col-md-3 mb-tall">
          {{- $exampleNameUrlized := $example.name | urlize -}}
          {{- $exampleUrl := urls.JoinPath "/docs" $.Site.Params.docs_version "/examples" $exampleNameUrlized "/" }}
          <a class="d-block link-offset-1" href="{{ $exampleUrl }}"{{ if in $example.name "RTL" }} hreflang="ar"{{ end }}>
            {{ $imageBasePath := urls.JoinPath "/docs" $.Site.Params.docs_version "assets/img/examples" -}}
            {{- $imgPath := urls.JoinPath $imageBasePath (printf "%s.png" $exampleNameUrlized) -}}
            {{- $imgPath2x := urls.JoinPath $imageBasePath (printf "%s@2x.png" $exampleNameUrlized) -}}
            {{- with (imageConfig (path.Join "/site/static" $imgPath)) -}}
            <img class="img-thumbnail mb-tall"
                srcset="{{ $imgPath }}, {{ $imgPath2x }} 2x"
                src="{{ $imgPath }}"
                alt=""
                width="{{ .Width }}"
                height="{{ .Height }}"
                loading="lazy">
            {{- end }}
            <h3 class="h5 mb-shortest">
              {{ $example.name }}
            </h3>
          </a>
          <p class="text-muted">{{ $example.description }}</p>
        </div>
      {{- end }}
    {{ if (eq (add $i 1) $len) }}</div>{{ end -}}
  {{ end -}}
  {{ if $entry.bootstrap}}
      </div>
    </details>
  </div>
  {{- end }}
</div>
{{ end -}}
