.tag {
  // scss-docs-start tag-css-vars
  --#{$prefix}tag-padding-start: #{$ouds-tag-space-padding-inline-default};
  --#{$prefix}tag-padding-end: #{$ouds-tag-space-padding-inline-default};
  --#{$prefix}tag-padding-y: #{$ouds-tag-space-padding-block-default};
  --#{$prefix}tag-min-width: #{$ouds-tag-size-min-width-default};
  --#{$prefix}tag-min-height: #{$ouds-tag-size-min-height-default};
  --#{$prefix}tag-color: #{$ouds-color-content-on-status-neutral-emphasized};
  --#{$prefix}tag-background-color: #{$ouds-color-surface-status-neutral-emphasized};
  --#{$prefix}tag-asset-container-size: 16px; // TODO ouds/ðŸ’ _indicator/tag/size/asset-default
  --#{$prefix}tag-asset-padding: 1px; // TODO replace by ouds/ðŸ’ _indicator/tag/space/inset/icon-default
  --#{$prefix}tag-asset-gap: #{$ouds-tag-space-column-gap-default};
  --#{$prefix}tag-asset-color: currentcolor;
  --#{$prefix}tag-loading-dasharray: 96;
  --#{$prefix}tag-loading-animation: 2.1875s infinite linear rotate1-indeterminate, 1.25s linear infinite rotate2-indeterminate;
  // scss-docs-end tag-css-vars

  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-width: var(--#{$prefix}tag-min-width);
  min-height: var(--#{$prefix}tag-min-height);
  padding: var(--#{$prefix}tag-padding-y) var(--#{$prefix}tag-padding-end) var(--#{$prefix}tag-padding-y) var(--#{$prefix}tag-padding-start);
  margin: 0;
  font-weight: 700;
  color: var(--#{$prefix}tag-color);
  white-space: nowrap;
  vertical-align: text-bottom; // TODO to fix
  background-color: var(--#{$prefix}tag-background-color);
  @include get-font-size("label-medium");
  @include border-radius(#{$ouds-tag-border-radius});

  &:has(.tag-asset-container) {
    --#{$prefix}tag-padding-start: #{$ouds-tag-space-padding-inline-default-asset};
  }
}

.tag-disabled {
  --#{$prefix}tag-color: #{$ouds-color-content-on-action-disabled};
  --#{$prefix}tag-background-color: #{$ouds-color-action-disabled};
}

.tag-asset-container {
  display: flex;
  flex-shrink: 0;
  align-items: center;
  width: var(--#{$prefix}tag-asset-container-size);
  height: var(--#{$prefix}tag-asset-container-size);
  padding: var(--#{$prefix}tag-asset-padding);
  margin-right: var(--#{$prefix}tag-asset-gap);

  // TODO do we keep "img"? => if not, see in badge
  svg:not(.tag-loader),
  img,
  .icon {
    width: 100%;
    height: 100%;
    overflow: hidden;
    line-height: 1;
    color: var(--#{$prefix}tag-asset-color);
  }

  &:has(.tag-bullet) {
    --#{$prefix}tag-asset-padding: 3px; // TODO replace by ouds/ðŸ’ _indicator/tag/space/inset/bullet-default
  }

  .tag-bullet {
    width: 100%;
    height: 100%;
    background-color: var(--#{$prefix}tag-asset-color);
    @include border-radius(#{$ouds-tag-border-radius});
  }

  &:has(.tag-loader) {
    --#{$prefix}tag-asset-padding: 2px; // TODO replace by ouds/ðŸ’ _indicator/tag/space/inset/loader-default
    position: relative;
  }

  .tag-loader {
    --#{$prefix}tag-asset-color: currentcolor;
    position: absolute;
    top: 50%;
    left: 50%;
    display: block;
    margin: 0;
    font-size: var(--#{$prefix}tag-asset-container-size);
    color: var(--#{$prefix}tag-asset-color);
    transform: translate(-50%, -50%) rotate(-90deg);

    > .tag-loader-inner {
      fill: none;
      stroke: var(--#{$prefix}tag-asset-color);
      stroke-dasharray: var(--#{$prefix}tag-loading-dasharray);
      stroke-width: 6;
      transform-origin: center;
      animation: var(--#{$prefix}tag-loading-animation);
    }
  }
}

.tag.text-bg-status-accent-muted:not(:has(.tag-loader)) {
  --#{$prefix}tag-asset-color: #{$ouds-color-surface-status-accent-emphasized};
}
.tag.text-bg-status-positive-muted:not(:has(.tag-loader)) {
  --#{$prefix}tag-asset-color: #{$ouds-color-surface-status-positive-emphasized};
}

.tag.text-bg-status-info-muted:not(:has(.tag-loader)) {
  --#{$prefix}tag-asset-color: #{$ouds-color-surface-status-info-emphasized};
}

.tag.text-bg-status-warning-muted:not(:has(.tag-loader)) {
  --#{$prefix}tag-asset-color: #{$ouds-color-surface-status-warning-emphasized};
}

.tag.text-bg-status-negative-muted:not(:has(.tag-loader)) {
  --#{$prefix}tag-asset-color: #{$ouds-color-surface-status-negative-emphasized};
}

.tag-sm {
  // scss-docs-start tag-sm-css-vars
  --#{$prefix}tag-padding-start: #{$ouds-tag-space-padding-inline-small};
  --#{$prefix}tag-padding-end: #{$ouds-tag-space-padding-inline-small};
  --#{$prefix}tag-padding-y: #{$ouds-tag-space-padding-block-small};
  --#{$prefix}tag-min-width: #{$ouds-tag-size-min-width-small};
  --#{$prefix}tag-min-height: #{$ouds-tag-size-min-height-small};
  --#{$prefix}tag-asset-container-size: 12px; // TODO ouds/ðŸ’ _indicator/tag/size/asset-small
  --#{$prefix}tag-bullet-padding: 2px; // TODO replace by ouds/ðŸ’ _indicator/tag/space/inset/bullet-small
  --#{$prefix}tag-icon-padding: 0; // TODO replace by ouds/ðŸ’ _indicator/tag/space/inset/icon-small
  --#{$prefix}tag-loader-padding: 1px; // TODO replace by ouds/ðŸ’ _indicator/tag/space/inset/loader-small
  --#{$prefix}tag-asset-gap: #{$ouds-tag-space-column-gap-small};
  @include get-font-size("label-small");

  &:has(.tag-asset-container) {
    --#{$prefix}tag-padding-start: #{$ouds-tag-space-padding-inline-small-asset};
  }
  // scss-docs-end tag-sm-css-vars
}

//  img,
//  svg {
//    width: var(--#{$prefix}tag-icon-size);
//    min-width: var(--#{$prefix}tag-icon-size); // Here to avoid weird behavior on wrap
//    height: var(--#{$prefix}tag-icon-size);
//    margin: add(calc(-.5 * var(--#{$prefix}tag-icon-size)), var(--#{$prefix}tag-font-shift)) 0 calc(-.5 * var(--#{$prefix}tag-icon-size)) var(--#{$prefix}tag-icon-margin-start);
//  }
//
//  .close {
//    position: relative;
//    width: var(--#{$prefix}tag-close-size);
//    min-width: var(--#{$prefix}tag-close-size); // Here to avoid weird behavior on wrap
//    height: var(--#{$prefix}tag-close-size);
//    padding: 0; // Force padding on button to have a circle on iOS - Safari and Chrome
//    margin: add(calc(-.5 * var(--#{$prefix}tag-close-size)), var(--#{$prefix}tag-font-shift)) var(--#{$prefix}tag-close-margin-end) calc(-.5 * var(--#{$prefix}tag-close-size)) var(--#{$prefix}tag-close-margin-start);
//    color: inherit;
//    background-color: transparent;
//    border: 0;
//    @include border-radius(var(--#{$prefix}tag-border-radius), var(--#{$prefix}tag-border-radius));
//
//    &::before {
//      position: absolute;
//      top: calc(-1 * var(--#{$prefix}tag-padding-y));
//      right: calc(-1 * var(--#{$prefix}tag-padding-y));
//      bottom: calc(-1 * var(--#{$prefix}tag-padding-y));
//      left: calc(-1 * var(--#{$prefix}tag-padding-y));
//      content: "";
//      @include border-radius(var(--#{$prefix}tag-border-radius), var(--#{$prefix}tag-border-radius));
//    }
//
//    &::after {
//      display: block;
//      min-width: subtract(var(--#{$prefix}tag-close-size), .625rem);
//      min-height: subtract(var(--#{$prefix}tag-close-size), .625rem);
//      content: "";
//      background-color: currentcolor;
//      mask: escape-svg(var(--#{$prefix}close-icon)) no-repeat 50% / subtract(var(--#{$prefix}tag-close-size), .625rem);
//    }
//
//    &:hover,
//    &:active {
//      color: var(--#{$prefix}tag-active-color);
//      background-color: var(--#{$prefix}tag-active-decoration-color);
//    }
//
//    &[disabled] {
//      pointer-events: none;
//    }
//  }
//
//  .btn-check:disabled + &,
//  .btn-check[disabled] + &,
//  &[disabled],
//  &.disabled {
//    color: var(--#{$prefix}tag-disabled-color);
//    pointer-events: none;
//    border-color: var(--#{$prefix}tag-disabled-color);
//  }
//
//  .btn-check:checked + & {
//    color: var(--#{$prefix}tag-active-color);
//    background-color: var(--#{$prefix}tag-active-decoration-color);
//    border-color: var(--#{$prefix}tag-active-decoration-color);
//  }

//
//// stylelint-disable selector-no-qualifying-type
//p.tag {
//  @extend .text-bg-status-neutral-emphasized;
//}
//// stylelint-enable selector-no-qualifying-type
//
//
//// stylelint-disable selector-no-qualifying-type
//a.tag,
//button.tag,
//label.tag {
//  color: var(--#{$prefix}tag-color);
//  text-decoration: none;
//  cursor: pointer;
//
//  &:hover {
//    border-color: var(--#{$prefix}tag-active-decoration-color);
//  }
//
//  &.active,
//  &:active {
//    color: var(--#{$prefix}tag-active-color);
//    background-color: var(--#{$prefix}tag-active-decoration-color);
//    border-color: var(--#{$prefix}tag-active-decoration-color);
//
//    &[disabled],
//    &.disabled {
//      background-color: var(--#{$prefix}tag-disabled-color);
//      border-color: var(--#{$prefix}tag-disabled-color);
//    }
//  }
//}
//// stylelint-enable selector-no-qualifying-type
