{"version":3,"file":"orange-navbar.js","sources":["../src/orange-navbar.js"],"sourcesContent":["/**\n * --------------------------------------------------------------------------\n * Boosted orange-navbar.js\n * Licensed under MIT (https://github.com/Orange-OpenSource/Orange-Boosted-Bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport BaseComponent from './base-component.js'\nimport EventHandler from './dom/event-handler.js'\nimport SelectorEngine from './dom/selector-engine.js'\nimport { defineJQueryPlugin } from './util/index.js'\n\n/**\n * Constants\n */\n\nconst NAME = 'orangenavbar'\nconst DATA_KEY = 'bs.orangenavbar'\nconst EVENT_KEY = `.${DATA_KEY}`\nconst DATA_API_KEY = '.data-api'\nconst EVENT_SCROLL_DATA_API = `scroll${EVENT_KEY}${DATA_API_KEY}`\nconst EVENT_LOAD_DATA_API = `load${EVENT_KEY}${DATA_API_KEY}`\nconst SELECTOR_STICKY_TOP = 'header.sticky-top'\n\n/**\n * Class definition\n */\n\nclass OrangeNavbar extends BaseComponent {\n  // Getters\n  static get NAME() {\n    return NAME\n  }\n\n  // Static\n  static enableMinimizing(el) {\n    // The minimized behavior works only if your header has .sticky-top (fixed-top will be sticky without minimizing)\n    const scroll = window.scrollY\n    const headerChildren = [...el.children]\n    const globalHeaderChild = headerChildren.find(element => !element.classList.contains('supra'))\n\n    if (globalHeaderChild) {\n      if (scroll > 0) {\n        // Consider first element not having .supra in array is the first header\n        globalHeaderChild.classList.add('header-minimized')\n      } else {\n        globalHeaderChild.classList.remove('header-minimized')\n      }\n    }\n  }\n\n  static jQueryInterface(config) {\n    return this.each(function () {\n      const data = OrangeNavbar.getOrCreateInstance(this, config)\n\n      if (typeof config !== 'string') {\n        return\n      }\n\n      if (typeof data[config] === 'undefined') {\n        throw new TypeError(`No method named \"${config}\"`)\n      }\n\n      data[config]()\n    })\n  }\n}\n\n/**\n * Data API implementation\n */\n\nEventHandler.on(window, EVENT_SCROLL_DATA_API, () => {\n  for (const el of SelectorEngine.find(SELECTOR_STICKY_TOP)) {\n    OrangeNavbar.enableMinimizing(el)\n  }\n})\n\nEventHandler.on(window, EVENT_LOAD_DATA_API, () => {\n  for (const el of SelectorEngine.find(SELECTOR_STICKY_TOP)) {\n    OrangeNavbar.enableMinimizing(el)\n  }\n})\n\n/**\n * jQuery\n */\n\ndefineJQueryPlugin(OrangeNavbar)\n\nexport default OrangeNavbar\n"],"names":["NAME","DATA_KEY","EVENT_KEY","DATA_API_KEY","EVENT_SCROLL_DATA_API","EVENT_LOAD_DATA_API","SELECTOR_STICKY_TOP","OrangeNavbar","BaseComponent","enableMinimizing","el","scroll","window","scrollY","headerChildren","children","globalHeaderChild","find","element","classList","contains","add","remove","jQueryInterface","config","each","data","getOrCreateInstance","TypeError","EventHandler","on","SelectorEngine","defineJQueryPlugin"],"mappings":";;;;;;;;;;;;;;;;EAAA;EACA;EACA;EACA;EACA;EACA;;;EAOA;EACA;EACA;;EAEA,MAAMA,IAAI,GAAG,cAAc,CAAA;EAC3B,MAAMC,QAAQ,GAAG,iBAAiB,CAAA;EAClC,MAAMC,SAAS,GAAI,CAAGD,CAAAA,EAAAA,QAAS,CAAC,CAAA,CAAA;EAChC,MAAME,YAAY,GAAG,WAAW,CAAA;EAChC,MAAMC,qBAAqB,GAAI,CAAA,MAAA,EAAQF,SAAU,CAAA,EAAEC,YAAa,CAAC,CAAA,CAAA;EACjE,MAAME,mBAAmB,GAAI,CAAA,IAAA,EAAMH,SAAU,CAAA,EAAEC,YAAa,CAAC,CAAA,CAAA;EAC7D,MAAMG,mBAAmB,GAAG,mBAAmB,CAAA;;EAE/C;EACA;EACA;;EAEA,MAAMC,YAAY,SAASC,aAAa,CAAC;EACvC;IACA,WAAWR,IAAIA,GAAG;EAChB,IAAA,OAAOA,IAAI,CAAA;EACb,GAAA;;EAEA;IACA,OAAOS,gBAAgBA,CAACC,EAAE,EAAE;EAC1B;EACA,IAAA,MAAMC,MAAM,GAAGC,MAAM,CAACC,OAAO,CAAA;EAC7B,IAAA,MAAMC,cAAc,GAAG,CAAC,GAAGJ,EAAE,CAACK,QAAQ,CAAC,CAAA;EACvC,IAAA,MAAMC,iBAAiB,GAAGF,cAAc,CAACG,IAAI,CAACC,OAAO,IAAI,CAACA,OAAO,CAACC,SAAS,CAACC,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAA;EAE9F,IAAA,IAAIJ,iBAAiB,EAAE;QACrB,IAAIL,MAAM,GAAG,CAAC,EAAE;EACd;EACAK,QAAAA,iBAAiB,CAACG,SAAS,CAACE,GAAG,CAAC,kBAAkB,CAAC,CAAA;EACrD,OAAC,MAAM;EACLL,QAAAA,iBAAiB,CAACG,SAAS,CAACG,MAAM,CAAC,kBAAkB,CAAC,CAAA;EACxD,OAAA;EACF,KAAA;EACF,GAAA;IAEA,OAAOC,eAAeA,CAACC,MAAM,EAAE;EAC7B,IAAA,OAAO,IAAI,CAACC,IAAI,CAAC,YAAY;QAC3B,MAAMC,IAAI,GAAGnB,YAAY,CAACoB,mBAAmB,CAAC,IAAI,EAAEH,MAAM,CAAC,CAAA;EAE3D,MAAA,IAAI,OAAOA,MAAM,KAAK,QAAQ,EAAE;EAC9B,QAAA,OAAA;EACF,OAAA;EAEA,MAAA,IAAI,OAAOE,IAAI,CAACF,MAAM,CAAC,KAAK,WAAW,EAAE;EACvC,QAAA,MAAM,IAAII,SAAS,CAAE,CAAmBJ,iBAAAA,EAAAA,MAAO,GAAE,CAAC,CAAA;EACpD,OAAA;EAEAE,MAAAA,IAAI,CAACF,MAAM,CAAC,EAAE,CAAA;EAChB,KAAC,CAAC,CAAA;EACJ,GAAA;EACF,CAAA;;EAEA;EACA;EACA;;EAEAK,YAAY,CAACC,EAAE,CAAClB,MAAM,EAAER,qBAAqB,EAAE,MAAM;IACnD,KAAK,MAAMM,EAAE,IAAIqB,cAAc,CAACd,IAAI,CAACX,mBAAmB,CAAC,EAAE;EACzDC,IAAAA,YAAY,CAACE,gBAAgB,CAACC,EAAE,CAAC,CAAA;EACnC,GAAA;EACF,CAAC,CAAC,CAAA;EAEFmB,YAAY,CAACC,EAAE,CAAClB,MAAM,EAAEP,mBAAmB,EAAE,MAAM;IACjD,KAAK,MAAMK,EAAE,IAAIqB,cAAc,CAACd,IAAI,CAACX,mBAAmB,CAAC,EAAE;EACzDC,IAAAA,YAAY,CAACE,gBAAgB,CAACC,EAAE,CAAC,CAAA;EACnC,GAAA;EACF,CAAC,CAAC,CAAA;;EAEF;EACA;EACA;;AAEAsB,6BAAkB,CAACzB,YAAY,CAAC;;;;;;;;"}