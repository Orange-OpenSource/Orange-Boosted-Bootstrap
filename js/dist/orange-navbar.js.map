{"version":3,"file":"orange-navbar.js","sources":["../src/orange-navbar.js"],"sourcesContent":["/**\n * --------------------------------------------------------------------------\n * Boosted (v0.2.0): orange-navbar.js\n * Licensed under MIT (https://github.com/Orange-OpenSource/Orange-Boosted-Bootstrap/blob/main-jd-innovation-cup/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport { defineJQueryPlugin } from './util/index'\nimport EventHandler from './dom/event-handler'\nimport BaseComponent from './base-component'\nimport SelectorEngine from './dom/selector-engine'\n\n/**\n * Constants\n */\n\nconst NAME = 'orangenavbar'\nconst DATA_KEY = 'bs.orangenavbar'\nconst EVENT_KEY = `.${DATA_KEY}`\nconst DATA_API_KEY = '.data-api'\nconst EVENT_SCROLL_DATA_API = `scroll${EVENT_KEY}${DATA_API_KEY}`\nconst EVENT_LOAD_DATA_API = `load${EVENT_KEY}${DATA_API_KEY}`\nconst SELECTOR_STICKY_TOP = 'header.sticky-top'\n\n/**\n * Class definition\n */\n\nclass OrangeNavbar extends BaseComponent {\n  // Getters\n  static get NAME() {\n    return NAME\n  }\n\n  // Static\n  static enableMinimizing(el) {\n    // The minimized behaviour works only if your header has .sticky-top (fixed-top will be sticky without minimizing)\n    const scroll = window.scrollY\n    const headerChildren = [...el.children]\n    const globalHeaderChild = headerChildren.find(element => !element.classList.contains('supra'))\n\n    if (globalHeaderChild) {\n      if (scroll > 0) {\n        // Consider first element not having .supra in array is the first header\n        globalHeaderChild.classList.add('header-minimized')\n      } else {\n        globalHeaderChild.classList.remove('header-minimized')\n      }\n    }\n  }\n\n  static jQueryInterface(config) {\n    return this.each(function () {\n      const data = OrangeNavbar.getOrCreateInstance(this, config)\n\n      if (typeof config !== 'string') {\n        return\n      }\n\n      if (typeof data[config] === 'undefined') {\n        throw new TypeError(`No method named \"${config}\"`)\n      }\n\n      data[config]()\n    })\n  }\n}\n\n/**\n * Data API implementation\n */\n\nEventHandler.on(window, EVENT_SCROLL_DATA_API, () => {\n  for (const el of SelectorEngine.find(SELECTOR_STICKY_TOP)) {\n    OrangeNavbar.enableMinimizing(el)\n  }\n})\n\nEventHandler.on(window, EVENT_LOAD_DATA_API, () => {\n  for (const el of SelectorEngine.find(SELECTOR_STICKY_TOP)) {\n    OrangeNavbar.enableMinimizing(el)\n  }\n})\n\n/**\n * jQuery\n */\n\ndefineJQueryPlugin(OrangeNavbar)\n\nexport default OrangeNavbar\n"],"names":["NAME","DATA_KEY","EVENT_KEY","DATA_API_KEY","EVENT_SCROLL_DATA_API","EVENT_LOAD_DATA_API","SELECTOR_STICKY_TOP","OrangeNavbar","BaseComponent","enableMinimizing","el","scroll","window","scrollY","headerChildren","children","globalHeaderChild","find","element","classList","contains","add","remove","jQueryInterface","config","each","data","getOrCreateInstance","TypeError","EventHandler","on","SelectorEngine","defineJQueryPlugin"],"mappings":"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"}